(this["webpackJsonpcovid-game"]=this["webpackJsonpcovid-game"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(16),i=n.n(r),u=(n(23),n(17)),s=n(2),o=n(7),l=n(9),j=(n(24),n(1));function d(e){var t=Object(c.useState)(350),n=Object(o.a)(t,2),a=n[0],r=(n[1],Object(c.useState)(null)),i=Object(o.a)(r,2),u=(i[0],i[1]),s=Object(c.useRef)(null),l=Object(c.useState)(!1),d=Object(o.a)(l,2),m=(d[0],d[1],Object(c.useState)(null)),f=Object(o.a)(m,2),b=(f[0],f[1],Object(c.useRef)(null)),O=Object(c.useState)(0),v=Object(o.a)(O,2),g=v[0],h=v[1],x=Object(c.useRef)(null);Object(c.useEffect)((function(){document.addEventListener("click",(function(e){console.log(e.clientX,e.clientY)}))}),[]),Object(c.useEffect)((function(){e.isGameActive&&p()}),[e.isGameActive]);var p=function(){if(e.isGameActive&&!s.current){console.log("being interval"),y();var t=setInterval((function(){if(s.current)return console.log("clearing interval"),void clearInterval(t);y()}),100)}},y=function(){var t=e.enemy.current;if(t&&x.current){var n=Y(t,x.current),c=(n.enemyX,n.enemyY,n.turretX,n.turretY,n.deltaX,n.deltaY,n.canSeeEnemy);console.log(c),c&&(s.current=t,w())}},w=function(){window.requestAnimationFrame(N)},N=function e(t){if(x.current&&s.current){var n=Y(s.current,x.current),c=n.canSeeEnemy,a=n.deltaX,r=n.deltaY,i=(n.squaredDistanceBetween,n.enemyY),o=n.turretY,l=n.enemyX,j=n.turretX;if(!c)return u(null),void S();var d=A(l,i,j,o,a,r);d&&h(d),b.current=window.requestAnimationFrame(e)}},S=function(){b.current&&window.cancelAnimationFrame(b.current)},A=function(e,t,n,c,a,r){var i,u;return e>n&&t<c?(i=Math.atan(a/r),u=X(i)):e>n&&t>c?(i=Math.atan(r/a),u=X(i)+90):e<n&&t>c?(i=Math.atan(a/r),u=X(i)+180):e<n&&t<c&&(i=Math.atan(r/a),u=X(i)+270),u},X=function(e){return Math.abs(e)*(180/Math.PI)},Y=function(e,t){console.log(e.getBoundingClientRect());var n=e.getBoundingClientRect(),c=t.getBoundingClientRect(),r=n.x,i=n.y,u=c.x,s=c.y,o=i-s,l=r-u,j=o*o+l*l;return{enemyX:r,enemyY:i,turretX:u,turretY:s,deltaY:o,deltaX:l,squaredDistanceBetween:j,canSeeEnemy:a*a>=j}};return Object(j.jsxs)("div",{className:"turret",ref:x,style:{transform:"rotate(".concat(g,"deg)")},children:[Object(j.jsx)("div",{className:"point"}),Object(j.jsx)("div",{className:"radius-circle",style:{width:2*a,height:2*a}})]})}n(26);function m(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useRef)(null);return Object(c.useEffect)((function(){for(var e=[],t=0;t<128;t++)e.push(0);r(e)}),[]),Object(j.jsx)("div",{className:"game-board-wrapper-outer",children:Object(j.jsxs)("div",{className:"game-board-wrapper-inner",children:[a.map((function(e,t){return Object(j.jsx)("div",{className:"board-square".concat(1===e?" img":2===e?" img2":"")},t)})),Object(j.jsx)(d,{isGameActive:e.isGameActive,enemy:i}),Object(j.jsx)("div",{className:"enemy",ref:i})]})})}n(27);function f(e){return Object(l.a)(e),Object(j.jsx)("div",{className:"game-menu"})}n(28);n(29);function b(e){Object(l.a)(e);var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){r(!0)}),[]),Object(j.jsx)("div",{className:"game-page",children:Object(j.jsxs)("div",{className:"game-flex-wrapper",children:[Object(j.jsx)("div",{className:"flex-item game",children:Object(j.jsx)(m,{isGameActive:a})}),Object(j.jsx)("div",{className:"flex-item menu",children:Object(j.jsx)(f,{})})]})})}n(30),n(31);var O=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(u.a,{basename:"/covid-game",children:Object(j.jsx)(s.c,{children:Object(j.jsx)(s.a,{exact:!0,path:"/",children:Object(j.jsx)(b,{})})})})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root")),v()}},[[37,1,2]]]);
//# sourceMappingURL=main.81a662d4.chunk.js.map